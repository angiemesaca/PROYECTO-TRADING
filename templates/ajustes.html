{% extends 'base.html' %}

{% block content %}
<div class="row justify-content-center mt-4">
    <div class="col-lg-8"> <div class="card shadow-sm border-0">
            <div class="card-body p-4 p-md-5">
                
                <h2 class="text-center fw-bold mb-4">
                    <i class="bi bi-sliders text-primary"></i>
                    Ajustes de Estrategia
                </h2>

                <form action="{{ url_for('bot_settings') }}" method="post">
                    
                    <div class="row g-3 mb-3">
                        
                        <div class="col-md-6">
                            <label for="riesgo" class="form-label fw-bold">Nivel de Riesgo</label>
                            <div class="input-group">
                                <span class="input-group-text"><i class="bi bi-shield-check"></i></span>
                                <select class="form-select" name="riesgo" id="riesgo">
                                    <option value="bajo" {% if settings.riesgo == 'bajo' %}selected{% endif %}>Bajo (Conservador)</option>
                                    <option value="medio" {% if settings.riesgo == 'medio' %}selected{% endif %}>Medio (Balanceado)</option>
                                    <option value="alto" {% if settings.riesgo == 'alto' %}selected{% endif %}>Alto (Agresivo)</option>
                                </select>
                            </div>
                        </div>

                        <div class="col-md-6">
                            <label for="activo" class="form-label fw-bold">Activo a Operar</label>
                            <div class="input-group">
                                <span class="input-group-text"><i class="bi bi-currency-exchange"></i></span>
                                <select class="form-select" name="activo" id="activo">
                                    <option value="crypto_btc_usd" {% if settings.activo == 'crypto_btc_usd' %}selected{% endif %}>Cripto: BTC/USD</option>
                                    <option value="crypto_eth_usd" {% if settings.activo == 'crypto_eth_usd' %}selected{% endif %}>Cripto: ETH/USD</option>
                                    <option value="crypto_sol_usd" {% if settings.activo == 'crypto_sol_usd' %}selected{% endif %}>Cripto: SOL/USD</option>
                                    <option value="forex_eur_usd" {% if settings.activo == 'forex_eur_usd' %}selected{% endif %}>Forex: EUR/USD</option>
                                    <option value="commodity_oro" {% if settings.activo == 'commodity_oro' %}selected{% endif %}>Commodity: Oro (XAU)</option>
                                    <option value="index_spx_500" {% if settings.activo == 'index_spx_500' %}selected{% endif %}>Índice: S&P 500</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="indicadores" class="form-label fw-bold">Indicadores Técnicos</label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="bi bi-graph-up-arrow"></i></span>
                            <input type="text" class="form-control" name="indicadores" id="indicadores" value="{{ settings.indicadores }}" required>
                        </div>
                        <div class="form-text">
                            Separa tus indicadores con comas (Ej: RSI, MACD, EMA).
                        </div>
                    </div>

                    <div class="mb-4">
                        <label for="horario" class="form-label fw-bold">Horario de Operación (UTC)</label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="bi bi-clock-history"></i></span>
                            <input type="text" class="form-control" name="horario" id="horario" value="{{ settings.horario }}" required>
                        </div>
                        <div class="form-text">
                            Usa formato 24h (Ej: 09:00-17:00).
                        </div>
                    </div>

                    <div class="d-grid">
                        <button type="submit" class="btn btn-primary btn-lg">
                            <i class="bi bi-save"></i> Guardar Cambios
                        </button>
                    </div>

                </form>
            </div>
        </div>

    </div>
</div>
{% endblock %}